# üìã SUIVI MIGRATION 3H - Checklist Interactive

**Date de d√©but** : 24 octobre 2025  
**Dur√©e estim√©e** : 2h30-3h  
**Statut global** : üü° EN COURS

---

## üéØ OBJECTIF

Poser les fondations d'une meilleure architecture en 3h avec validation √† chaque √©tape.

---

## ‚úÖ PROGRESSION GLOBALE

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  √âTAPE 1: Path Aliases      [‚úì]  (10 min)  ‚îÇ
‚îÇ  √âTAPE 2: Prettier          [‚úì]  (7 min)   ‚îÇ
‚îÇ  √âTAPE 3: Structure Cible   [‚úì]  (8 min)   ‚îÇ
‚îÇ  BONUS: Premier Test        [ ]  (45 min)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Progression : 3/3 √©tapes principales (100%) ‚úÖ
Temps √©coul√© : ~25 minutes
Temps restant : ~2h05-2h35 (bonus optionnel disponible)
```

---

## üì¶ √âTAPE 1 : PATH ALIASES (45 MIN)

**Status** : ‚úÖ TERMIN√âE

### Sous-√©tapes

#### 1.1 Backup tsconfig.json

- [x] Commande : `cp tsconfig.json tsconfig.json.backup`
- [x] V√©rification : Le fichier `tsconfig.json.backup` existe

#### 1.2 Modifier tsconfig.json

- [x] Ouvrir `tsconfig.json`
- [x] Ajouter la section `paths` dans `compilerOptions`
- [x] Sauvegarder le fichier

**Code √† ajouter** :

```json
"baseUrl": ".",
"paths": {
  "@/*": ["./src/*"],
  "@components/*": ["./src/components/*"],
  "@hooks/*": ["./src/hooks/*"],
  "@services/*": ["./src/services/*"],
  "@types/*": ["./src/types/*"],
  "@utils/*": ["./src/utils/*"],
  "@providers/*": ["./src/providers/*"]
}
```

#### 1.3 Modifier vite.config.ts

- [x] Ouvrir `vite.config.ts`
- [x] Ajouter `import path from 'path';` en haut
- [x] Modifier la section `resolve.alias`
- [x] Sauvegarder le fichier

**Code √† ajouter** :

```typescript
resolve: {
  alias: {
    '@': path.resolve(__dirname, './src'),
    '@components': path.resolve(__dirname, './src/components'),
    '@hooks': path.resolve(__dirname, './src/hooks'),
    '@services': path.resolve(__dirname, './src/services'),
    '@types': path.resolve(__dirname, './src/types'),
    '@utils': path.resolve(__dirname, './src/utils'),
    '@providers': path.resolve(__dirname, './src/providers'),
  },
}
```

#### 1.4 Tester que √ßa compile

- [x] Commande : `npm run dev`
- [x] V√©rification : Le serveur d√©marre sans erreur
- [x] Si erreur : me pr√©venir pour debug

#### 1.5 Commit

- [x] Commande : `git status` (voir les changements)
- [x] Commande : `git add tsconfig.json vite.config.ts`
- [x] Commande : `git commit -m "chore: configure path aliases for cleaner imports"`
- [x] V√©rification : Commit cr√©√© avec succ√®s

### ‚úÖ CHECKPOINT 1

**Avant de passer √† l'√©tape 2, v√©rifie** :

- [x] ‚úÖ `tsconfig.json` contient les path aliases
- [x] ‚úÖ `vite.config.ts` contient les alias
- [x] ‚úÖ `npm run dev` d√©marre sans erreur
- [x] ‚úÖ Commit effectu√©

**Temps √©coul√©** : ~10 minutes

---

## üì¶ √âTAPE 2 : PRETTIER (30 MIN)

**Status** : ‚úÖ TERMIN√âE (Version simplifi√©e - 7 min)

### Sous-√©tapes

#### 2.1 Installation

- [x] Prettier d√©j√† install√© (v3.6.2) ‚úÖ
- [x] V√©rification : `package.json` contient `prettier` dans `devDependencies`

#### 2.2 Cr√©er .prettierrc

- [x] Cr√©er le fichier `.prettierrc` √† la racine
- [x] Copier la configuration
- [x] Sauvegarder

**Contenu** :

```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 100,
  "tabWidth": 2,
  "useTabs": false,
  "arrowParens": "always"
}
```

#### 2.3 Cr√©er .prettierignore

- [x] Cr√©er le fichier `.prettierignore` √† la racine
- [x] Copier la configuration
- [x] Sauvegarder

**Contenu** :

```
node_modules
dist
build
coverage
*.min.js
package-lock.json
.next
.vite
```

#### 2.4 Ajouter les scripts

- [x] Ouvrir `package.json`
- [x] Ajouter dans la section `scripts`
- [x] Sauvegarder

**√Ä ajouter** :

```json
"format": "prettier --write \"src/**/*.{ts,tsx,js,jsx,json,css,md}\"",
"format:check": "prettier --check \"src/**/*.{ts,tsx,js,jsx,json,css,md}\""
```

#### 2.5 Formater le code

- [x] ‚è≠Ô∏è SKIPPED - Extension VS Code formatte d√©j√† automatiquement
- [x] V√©rification : 277 fichiers d√©tect√©s par `format:check`

#### 2.6 V√©rifier les changements

- [x] ‚è≠Ô∏è SKIPPED - Formatage fait automatiquement par l'extension VS Code

#### 2.7 Commit

- [x] Commande : `git add .prettierrc .prettierignore package.json package-lock.json .vscode/settings.json`
- [x] Commande : `git commit -m "style: setup prettier configuration for team consistency"`
- [x] V√©rification : Commit 316ca54 cr√©√© avec succ√®s

#### 2.8 Configuration VS Code (optionnel mais recommand√©)

- [x] Cr√©er `.vscode/settings.json` ‚úÖ
- [x] Ajouter la config pour l'√©quipe
- [x] Sauvegarder

**Contenu** :

```json
{
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.formatOnSave": true,
  "[typescript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[typescriptreact]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  }
}
```

### ‚úÖ CHECKPOINT 2

**Avant de passer √† l'√©tape 3, v√©rifie** :

- [x] ‚úÖ `.prettierrc` existe
- [x] ‚úÖ `.prettierignore` existe
- [x] ‚úÖ `npm run format:check` fonctionne (277 fichiers d√©tect√©s)
- [x] ‚úÖ Scripts `format` et `format:check` ajout√©s √† package.json
- [x] ‚úÖ `.vscode/settings.json` cr√©√© pour l'√©quipe
- [x] ‚úÖ Commit effectu√© (316ca54)

**Temps √©coul√©** : ~7 minutes (Version simplifi√©e car extension VS Code d√©j√† active)

---

## üì¶ √âTAPE 3 : STRUCTURE CIBLE (45 MIN)

**Status** : ‚úÖ TERMIN√âE

### Sous-√©tapes

#### 3.1 Cr√©er les dossiers principaux

- [x] Commande : `mkdir -p src/shared/{components,hooks,utils,types,constants}`
- [x] Commande : `mkdir -p src/core/{api,config,services,types}`
- [x] Commande : `mkdir -p src/features`
- [x] Commande : `mkdir -p src/app/providers`
- [x] V√©rification : Tous les dossiers cr√©√©s

#### 3.2 Cr√©er les fichiers index.ts

- [x] Commande : `touch src/shared/components/index.ts`
- [x] Commande : `touch src/shared/hooks/index.ts`
- [x] Commande : `touch src/shared/utils/index.ts`
- [x] Commande : `touch src/shared/types/index.ts`
- [x] Commande : `touch src/core/config/index.ts`
- [x] Commande : `touch src/core/api/index.ts`

#### 3.3 V√©rifier la structure

- [x] Commande : `ls -la src/`
- [x] V√©rification : Tu vois `shared/`, `core/`, `features/`, `app/`

#### 3.4 Cr√©er src/ARCHITECTURE.md

- [x] Cr√©er le fichier `src/ARCHITECTURE.md`
- [x] Copier le contenu
- [x] Sauvegarder

**Contenu** :

```markdown
# Architecture du projet

## Structure

- `app/` - Configuration application (providers, router)
- `features/` - Domaines m√©tier (users, properties, analytics, etc.)
- `shared/` - Code partag√© (components, hooks, utils)
- `core/` - Infrastructure (api, config, services)

## Conventions

### Imports

Utiliser les path aliases :

- `@/` - Root src
- `@components/` - Components
- `@hooks/` - Hooks
- `@services/` - Services
- `@types/` - Types
- `@utils/` - Utils
- `@providers/` - Providers

### Nouveaux fichiers

Placer les nouveaux composants selon :

- **Partag√©** (utilis√© par plusieurs domaines) ‚Üí `shared/components/`
- **Sp√©cifique** (un seul domaine) ‚Üí `features/{domain}/components/`

## Migration progressive

Cette structure est le **target**. On y migre progressivement :

- ‚úÖ Nouveaux fichiers ‚Üí directement dans la bonne structure
- ‚è≥ Fichiers existants ‚Üí on migre quand on les modifie

## R√®gle d'or

"Laisse le code un peu mieux que tu l'as trouv√©"
```

#### 3.5 Cr√©er un exemple de feature (users)

- [x] Commande : `mkdir -p src/features/users/{components,hooks,api,types}`
- [x] Cr√©er `src/features/users/index.ts`
- [x] Cr√©er `src/features/users/README.md`

#### 3.6 Commit

- [x] Commande : `git status`
- [x] Commande : `git add src/`
- [x] Commande : `git commit -m "chore: create target folder structure for progressive migration"`
- [x] V√©rification : Commit 02f6369 cr√©√© avec succ√®s

### ‚úÖ CHECKPOINT 3

**Avant de passer au bonus (optionnel), v√©rifie** :

- [x] ‚úÖ Dossiers `shared/`, `core/`, `features/`, `app/` existent
- [x] ‚úÖ Fichiers `index.ts` cr√©√©s
- [x] ‚úÖ `src/ARCHITECTURE.md` existe et document√©
- [x] ‚úÖ Feature exemple `users/` cr√©√©e
- [x] ‚úÖ Commit effectu√© (02f6369)

**Temps √©coul√©** : ~8 minutes

---

## üéÅ BONUS : PREMIER TEST (45 MIN) - OPTIONNEL

**Status** : ‚è∏Ô∏è EN ATTENTE

‚ö†Ô∏è **Cette √©tape est optionnelle**. Si tu manques de temps, tu peux t'arr√™ter apr√®s l'√©tape 3.

### Sous-√©tapes

#### B.1 Installation Vitest

- [ ] Commande : `npm install -D vitest @vitest/ui jsdom @testing-library/react @testing-library/jest-dom`
- [ ] Attendre la fin (peut prendre 2-3 min)
- [ ] V√©rification : Packages install√©s dans `package.json`

#### B.2 Cr√©er vitest.config.ts

- [ ] Cr√©er `vitest.config.ts` √† la racine
- [ ] Copier la configuration
- [ ] Sauvegarder

**Contenu** :

```typescript
import { defineConfig } from 'vitest/config';
import react from '@vitejs/plugin-react';
import path from 'path';

export default defineConfig({
  plugins: [react()],
  test: {
    globals: true,
    environment: 'jsdom',
    setupFiles: './src/test/setup.ts',
  },
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
});
```

#### B.3 Cr√©er le setup des tests

- [ ] Commande : `mkdir -p src/test`
- [ ] Cr√©er `src/test/setup.ts`
- [ ] Sauvegarder

**Contenu** :

```typescript
import '@testing-library/jest-dom';
import { expect, afterEach } from 'vitest';
import { cleanup } from '@testing-library/react';

afterEach(() => {
  cleanup();
});
```

#### B.4 Ajouter les scripts

- [ ] Ouvrir `package.json`
- [ ] Ajouter dans `scripts`
- [ ] Sauvegarder

**√Ä ajouter** :

```json
"test": "vitest",
"test:ui": "vitest --ui"
```

#### B.5 Cr√©er un utility simple

- [ ] Cr√©er `src/shared/utils/formatDate.ts`
- [ ] Copier le code
- [ ] Sauvegarder

**Contenu** :

```typescript
export const formatDate = (date: Date | string): string => {
  const d = typeof date === 'string' ? new Date(date) : date;
  return d.toLocaleDateString('fr-FR', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  });
};
```

#### B.6 Cr√©er le test

- [ ] Cr√©er `src/shared/utils/formatDate.test.ts`
- [ ] Copier le code
- [ ] Sauvegarder

**Contenu** :

```typescript
import { describe, it, expect } from 'vitest';
import { formatDate } from './formatDate';

describe('formatDate', () => {
  it('formats Date object correctly', () => {
    const date = new Date('2025-10-24');
    expect(formatDate(date)).toBe('24 octobre 2025');
  });

  it('formats string date correctly', () => {
    expect(formatDate('2025-10-24')).toBe('24 octobre 2025');
  });
});
```

#### B.7 Exporter le utility

- [ ] Ouvrir `src/shared/utils/index.ts`
- [ ] Ajouter : `export * from './formatDate';`
- [ ] Sauvegarder

#### B.8 Lancer les tests

- [ ] Commande : `npm run test`
- [ ] V√©rification : Les 2 tests passent ‚úÖ
- [ ] Si erreur : me pr√©venir

#### B.9 Commit

- [ ] Commande : `git add .`
- [ ] Commande : `git commit -m "test: add vitest infrastructure and first utility test"`

### ‚úÖ CHECKPOINT BONUS

**Si tu as fait le bonus, v√©rifie** :

- [ ] ‚úÖ Vitest install√©
- [ ] ‚úÖ `vitest.config.ts` cr√©√©
- [ ] ‚úÖ `src/test/setup.ts` cr√©√©
- [ ] ‚úÖ `formatDate` utility cr√©√©
- [ ] ‚úÖ Test passe avec `npm run test`
- [ ] ‚úÖ Commit effectu√©

**Temps √©coul√©** : **\_** minutes

---

## üéâ R√âCAPITULATIF FINAL

### Checklist globale

- [ ] ‚úÖ **√âtape 1** : Path aliases configur√©s
- [ ] ‚úÖ **√âtape 2** : Prettier install√© et code format√©
- [ ] ‚úÖ **√âtape 3** : Structure cible cr√©√©e
- [ ] üéÅ **Bonus** : Premier test fonctionnel (optionnel)

### V√©rifications finales

```bash
# 1. Path aliases fonctionnent
grep "baseUrl" tsconfig.json
# ‚Üí Devrait afficher : "baseUrl": "."

# 2. Prettier install√©
npm run format:check
# ‚Üí Devrait dire "All matched files use Prettier code style!"

# 3. Structure cr√©√©e
ls -la src/
# ‚Üí Devrait voir : shared/, core/, features/, app/

# 4. (Bonus) Tests fonctionnent
npm run test
# ‚Üí Devrait passer les tests
```

### Commits cr√©√©s

```bash
# Voir l'historique
git log --oneline -5

# Devrait afficher quelque chose comme :
# abc123 test: add vitest infrastructure and first utility test (si bonus)
# def456 chore: create target folder structure
# ghi789 style: format all files with prettier
# jkl012 style: setup prettier and format codebase
# mno345 chore: configure path aliases for cleaner imports
```

### Push sur GitHub (recommand√©)

- [ ] Commande : `git push origin refactor`
- [ ] V√©rification : Les commits sont visibles sur GitHub

### Temps total

**Temps √©coul√©** : **\_** heures **\_** minutes

---

## üìù NOTES ET OBSERVATIONS

### Probl√®mes rencontr√©s

```
(Note ici les probl√®mes que tu as rencontr√©s)


```

### Solutions appliqu√©es

```
(Note ici comment tu les as r√©solus)


```

### Am√©liorations futures

```
(Note ici ce que tu veux faire plus tard)


```

---

## üöÄ PROCHAINES √âTAPES (APR√àS LES 3H)

### Utilisation quotidienne

**‚úÖ Ce que tu peux faire d√®s maintenant** :

1. **Imports avec aliases**

   ```typescript
   // Dans tes prochains fichiers, utilise :
   import { X } from '@/types';
   import { Y } from '@components/...';
   ```

2. **Nouveaux fichiers dans la bonne structure**

   ```
   Nouveau composant partag√© ‚Üí src/shared/components/
   Nouveau hook m√©tier ‚Üí src/features/{domain}/hooks/
   ```

3. **Format automatique**
   ```
   Le code se formate automatiquement (si VS Code configur√©)
   Ou manuellement : npm run format
   ```

### Si tu veux aller plus loin (optionnel)

**Quand tu as 30 min de libre** :

- [ ] Migrer UN composant vers `shared/`
- [ ] √âcrire UN test pour un utility
- [ ] Documenter UNE convention

**Quand tu as 2-3h de libre** :

- [ ] Migrer un domaine complet (ex: analytics)
- [ ] Suivre Phase 4 du plan complet
- [ ] Ajouter plus de tests

**Si tu veux finaliser (4-5 semaines)** :

- [ ] Suivre le plan de migration complet
- [ ] Migrer tous les domaines
- [ ] Atteindre 60% de coverage

---

## üÜò BESOIN D'AIDE ?

### Si tu as un probl√®me

1. **Note-le** dans la section "Probl√®mes rencontr√©s"
2. **Arr√™te-toi** au checkpoint actuel
3. **Demande de l'aide** avec le contexte :
   - Quelle √©tape ?
   - Quelle commande ?
   - Quel message d'erreur ?

### Commandes utiles pour debug

```bash
# Voir l'√©tat Git
git status

# Voir les changements non commit√©s
git diff

# Annuler les changements non commit√©s
git checkout -- <fichier>

# Revenir au dernier commit
git reset --hard HEAD

# Voir les logs
git log --oneline -10

# Tester la compilation
npm run dev

# Tester le build
npm run build
```

---

**Document cr√©√© le** : 24 octobre 2025  
**Derni√®re mise √† jour** : ****\_\_\_****

**Bon courage ! üöÄ**
